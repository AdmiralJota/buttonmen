<!DOCTYPE html>
<!--
    This document should be written in polyglot HTML5/XHTML5, and therefore
    should run when served either as text/html or application/xhtml+xml.
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
    <head>

        <meta charset="utf-8" />
        <title>Choose swing values</title>
        <link rel="stylesheet" href="gui.css" />

    </head>

    <body>

        <div>Game #<span id="game_id">?</span></div>
        <div>Round #<span id="round_number">?</span></div>
        <br />

        <table>
            <tr>
                <th>Your dice</th>
                <th>Opponent's dice</th>
            </tr>
            <tr>
                <td>1anoeuth</td>
                <td>aocehuoenthu</td>
            </tr>
            <tr>
                <td>anoethrcoheu</td>
                <td>oeoeunth</td>
            </tr>
            <tr>
                <td></td>
                <td>oenutnoethu</td>
            </tr>
        </table>

        <br />

        <div class="title2">
            Set swing values
        </div>

        <div>
        <form action="choose_swing.php" id="swing_values">
            <table>
                <tr>
                    <td>X :</td>
                    <td><input type="text" name="swing_X" class="text" size="2" maxlength="2"/></td>
                </tr>
                <tr>
                    <td>Y :</td>
                    <td><input type="text" name="swing_Y" class="text" size="2" maxlength="2"/></td>
                </tr>
            </table>
            <br />
            <input type="submit" value="Submit"/>
        </form>
        </div>

        <!--
        james: eventually, we will want to use the hosted version of the JQuery library
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        -->
        <script src="jquery-1.9.0.min.js"></script>
        <script>

        $(document).ready(function() {
            function displayDieDetails() {
//                var dieAttackIdx;
//                var dieDefendIdx;
//
//                for (dieAttackIdx = 0;
//                     dieAttackIdx < dieAttackValues.length;
//                     dieAttackIdx++) {
//                    addDie('playerIdx_' + attackerIdx +
//                           '_dieIdx_' + dieAttackIdx,
//                           dieAttackValues[dieAttackIdx],
//                           dieAttackSides[dieAttackIdx],
//                           "div_attack");
//                }
//
//                for (dieDefendIdx = 0;
//                     dieDefendIdx < dieDefendValues.length;
//                     dieDefendIdx++) {
//                    addDie('playerIdx_' + defenderIdx +
//                           '_dieIdx_' + dieDefendIdx,
//                           dieDefendValues[dieDefendIdx],
//                           dieDefendSides[dieDefendIdx],
//                           "div_defend");
//                }
            }

            function loadGameInfo() {
                jQuery.ajax({                                   // Do a jQuery AJAX fetch
                    url: 'load_test_game_waiting_on_swing.php',
                    success: function(rs, status, xhr) {
                        // $rs is the place where the error message will be shown
                        var $rs = $('#game_id');
                        if (rs.status == 'ok') {
                            $('#game_id').html(rs.data.gameId);
                            displayDieDetails();
                        } else {
                            $rs.html("JSON fetch failed\n"+
                                     JSON.stringify(rs.data));  // We got some JSON we didn't expect (the network fetch succeeded, but the engine had an error)
                        }
                    }
                });
            }

            // code to run when page is ready
            loadGameInfo();
        });

        </script>
    </body>
</html>